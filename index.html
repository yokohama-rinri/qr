<!DOCTYPE html>
<html>
<head>
    <title>Send Line Message</title>
    <script src="https://static.line-scdn.net/liff/edge/versions/2.7.0/sdk.js"></script>
</head>
<body>
    <h1>Sending a Message to LINE...</h1>

    <script>
        // LINE公式アカウントのURLを設定します（このURLは適切なものに変更してください）
        const officialLineUrl = 'https://lin.ee/ySxY1lP';

        function navigateToOfficialLine() {
            window.location.href = officialLineUrl;
        }

        function sendMessage() {
            const text = "受付\n受付コード3152";

            liff.init({ liffId: '1661243127-QOkqmoAD' }, () => {
                if (liff.isLoggedIn()) {
                    liff.sendMessages([{ type: 'text', text }]).then(() => {
                        console.log('Message sent');
                    }).catch(err => {
                        console.error('Failed to send message:', err);
                    });
                } else {
                    liff.login();
                }
            }, err => console.error(err));
        }

        // 先に特定の公式ラインに遷移し、その上でsendMessage関数を呼び出す
        navigateToOfficialLine();
        sendMessage();
    </script>
</body>
</html>
